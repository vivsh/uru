!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(1)},function(t,e,n){function r(t,e,n){"use strict";var r,i,s,c,a,h=2;if(o.isObject(e)||(n=e,e={},h=1),o.isString(n)&&(n=Array.prototype.slice.call(arguments,h)),n)for(c=n.length,s=0;c>s;s++)a=n[s],a&&(o.isString(a)?(a=new u.DomNode(u.TEXT_TYPE,null,a,s),n[s]=a):a.index=s);i=t,i in l&&(t=l[i]);var p="function"==typeof t?u.ComponentNode:u.DomNode;return r=new p(t,e,n||[],0),e&&e.hasOwnProperty("key")&&(r.key=e.key,delete e.key),r}function i(t,e,n){"use strict";var r=u.patch(t);return n===!0?e.parentNode.replaceChild(e,r):n?e.insertBefore(r,n):e.appendChild(r),t}function s(t){"use strict";u.patch(null,t)}var o=n(2),c=n(3),u=n(5),a=n(4),h=n(6),l={};r.component=function(t,e){"use strict";return void 0===e?l[t]:("object"==typeof e&&(e=c.extend(e)),l[t]=e,e)},r.mount=i,r.unmount=s,r.redraw=a.redraw,r.queue=a.Queue,r.nextTick=a.nextTick,r.dom=h,r.utils=o,r.Component=c,r.hook=u.hook,t.exports=r},function(t,e){function n(t){"use strict";return"[object String]"===Object.prototype.toString.call(t)}function r(t){"use strict";return!!(t&&t.constructor&&t.call&&t.apply)}function i(t){"use strict";return"[object Array]"===Object.prototype.toString.call(t)}function s(t){"use strict";return"[object Object]"===Object.prototype.toString.call(t)}function o(t,e){"use strict";var n,r=t.length;for(n=0;r>n;n++)if(t[n]===e)return t.splice(n,1),n;return-1}function c(t){"use strict";if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=t,n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}function u(t,e){"use strict";for(var n,r,i,s,o,c={},u=[{src:t,dst:e,reverse:!1},{src:e,dst:t}],a=0;u.length;)if(n=u.pop(),n.src!==n.dst)if("object"==typeof n.src&&"object"==typeof n.dst){for(i in n.src)if(n.src.hasOwnProperty(i)){if(r=n.key||i,r in c)continue;s=n.src[i],o=n.dst[i],u.push({key:r,src:s,dst:o})}}else if(!(n.key&&n.key in c)){if(a+=1,!n.key){c=e;break}c[n.key]=e[n.key]}return a?{total:a,changes:c}:!1}var a=function(t){"use strict";var e,n,r=this,i=r.prototype,s=function(){r.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)};s.prototype=Object.create(r.prototype),s.prototype.constructor=s,n=s.prototype,n.$super=i;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return s.extend=a,s};t.exports={isArray:i,isString:n,isFunction:r,isObject:s,extend:a,remove:o,merge:c,diffAttr:u}},function(t,e,n){function r(t,e){"use strict";this.state={},this.inclusion=null,this.$dirty=!0,t&&this.set(t),e&&this.adopt(e),this.$dirty=!1}var i=n(2),s=n(4);r.prototype.render=function(){"use strict";throw new Error("Not implemented")},r.prototype.set=function(t){"use strict";var e,n,r,i=this.state,o=this.$dirty;if(t)for(e in t)t.hasOwnProperty(e)&&(n=t[e],r=i[e],n!==r&&(this.$dirty=!0,this.state[e]=n));this.$dirty&&!o&&s.redraw()},r.prototype.adopt=function(t){"use strict";var e=this.$dirty;this.inclusion&&i.diff(this.inclusion,t)&&(this.inclusion=t,this.$dirty=!0),this.$dirty&&!e&&s.redraw()},r.prototype.hasChanged=function(){"use strict";return this.$dirty},r.extend=i.extend,t.exports=r},function(t,e,n){function r(){"use strict";this.items=[],this.next=this.next.bind(this),this._running=!1}function i(){"use strict";o.update(),c=!1}function s(){"use strict";c||(c=!0,u(i))}var o=n(5),c=!1,u=window.requestAnimationFrame||window.setTimeout;r.prototype={constructor:r,push:function(t){"use strict";return this.items.push(t),this._running||(this._running=!0,this.next()),this},next:function(){"use strict";var t=this;t.items.length&&u(function(){var e=t.items.shift();e(t.next)})},delay:function(t){"use strict";return this.push(function(e){setTimeout(function(){e()},t)})}},t.exports={Queue:r,redraw:s,nextTick:function(t){"use strict";u(t)}}},function(t,e,n){function r(t,e,n,r){"use strict";var i;if(t&&(i=(t=k.isString(t)?{name:t}:t).name)in j){var s=j[i];if(s[e]){try{s[e](t,n,r)}catch(o){r()}return}}r()}function i(t,e){"use strict";return"svg"===t?"http://www.w3.org/2000/svg":e?e.namespaceURI:null}function s(t,e,n){"use strict";var r,s=i(t,n);return r=s?document.createElementNS(s,t):document.createElement(t),e&&u(r,e),r}function o(t,e){"use strict";var n,r;if("string"==typeof e)t.style.cssText=e;else{t.style.cssText="",r=t.style;for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}}function c(t,e){"use strict";var n=e?"show":"hide";r(t.hook,n,t,function(){t.style.display=e?"":"none"})}function u(t,e){"use strict";var n,r,i,s={hook:1,className:1};for(n in e)e.hasOwnProperty(n)&&(r=e[n],"value"===n&&"TEXTAREA"===t.tagName?t.value=r:"show"===n?c(t,r):null===r||void 0===r?t.removeAttribute(n):(i=typeof r,"style"===n?o(t,r):n in s||"function"===i||"object"===i?t[n]=r:("boolean"===i&&(t[n]=r),t.setAttribute(n,r))))}function a(t,e,n,i){"use strict";"number"==typeof n&&n%1===0&&(n=t.childNodes[n]),n?i?r(t.hook,"enter",e,function(){t.replaceChild(e,n)}):r(t.hook,"enter",e,function(){t.insertBefore(e,n)}):r(t.hook,"enter",e,function(){t.appendChild(e)})}function h(t){"use strict";var e=t.parentNode;r(e.hook,"leave",t,function(){e.removeChild(t)})}function l(t,e){"use strict";var n=t.parentNode;r(n.hook,"enter",t,function(){var r=n.childNodes[e];r!==t&&n.insertBefore(t,r)})}function p(t,e,n,r){"use strict";this.type=t,this.attrs=e,this.children=n,this.el=null,this.index=arguments.length<4?-1:r,this.owner=null}function d(t,e,n,r){"use strict";this.type=t,this.attrs=e,this.children=[],this.owner=null,this.el=null,this.component=null,this.index=arguments.length<4?-1:r}function f(t,e){"use strict";var n,r,i,s,o,c,u,a={src:e,dst:t,owner:e&&e.owner||b.component,parent:e?e.el.parentNode:document.createDocumentFragment()},h=[a],l=[],p=[];if(t===e)return a.parent;for(;h.length;)n=h.pop(),r=n.src,i=n.dst,s=n.parent,o=n.owner,i?r?r.type!==i.type?i.replace(h,r,o):i.patch(h,r):(i.create(h,s,o),i.component&&l.push(i.component)):(r.component&&(p.push(r.component),r.component.onUnmount&&r.component.onUnmount()),r.destroy(h,n.action===N));for(c=l.length-1;c>=0;c--)u=l[c],u.onMount&&u.onMount();for(c=p.length-1;c>=0;c--)u=p[c],u.onDelete&&u.onDelete();return a.parent}function m(t){"use strict";var e,n,r=t.length,i={};for(e=0;r>e;e++)n=t[e],n.hasOwnProperty("key")&&(i[n.key]=n);return i}function y(t,e,n,r,i,s){"use strict";var o,c,u=r.length;for(o=u-1;o>=0;o--)c={owner:n,parent:e,action:s},c[i]=r[o],t.push(c)}function v(t,e,n,r,i){"use strict";var s,o,c,u,a,h={},l=[];for(o=i.length,s=0;o>s;s++)u=i[s],u.hasOwnProperty("key")?(a||(a=m(r)),c=a[u.key]):c=r[s],c&&(h[c.index]=!0),l.push({owner:n,src:c,dst:u,parent:e});for(o=r.length,s=0;o>s;s++)c=r[s],s in h||l.push({owner:n,src:c,dst:null,parent:e});l.reverse(),t.push.apply(t,l)}function w(){"use strict";b.update()}function g(t,e){"use strict";j[t]=e}function x(t){"use strict";return j[t]}function $(t,e){"use strict";return arguments.length<2?x(t):(g(t,e),x(t))}var b,k=n(2),C=-1,N=1,j={};p.prototype={constructor:p,create:function(t,e,n){"use strict";var r,i,o=this.tenant;o&&(r=o.el,i=!0);var c,u=this.type===C;c=u?document.createTextNode(this.children):s(this.type,this.attrs,e),a(e,c,r,i),this.el=c,this.owner=n,delete this.tenant,o&&this.index!==o.index&&this.reorder(o),n&&n.$tree===this&&(n.el=this.el,n.$tag.el=this.el),n.$updated=!0,u||y(t,this.el,this.owner,this.children,"dst")},replace:function(t,e,n){"use strict";var r=e.component?e.component.el:e.el,i=r.parentNode;this.tenant=e,y(t,i,n,[e],"src",N),this.create(t,i,n)},destroy:function(t,e){"use strict";var n=this.type===C,r=(this.owner,this.el);n||y(t,this.el,this.owner,this.children,"src",N),e||h(r),this.owner.$updated=!0,this.el=null,this.owner=null},patch:function(t,e){"use strict";var n=e.el,r=this.type===C,i=e.owner;if(r)e.children!==this.children&&(n.nodeValue=this.children,i.$updated=!0);else{var s,o=k.diffAttr(e.attrs,this.attrs);o&&(s=o.changes,u(n,s),i.$updated=!0)}this.el=n,this.owner=i,this.index!==e.index&&this.reorder(e),e.el=null,r||v(t,this.el,e.owner,e.children,this.children)},reorder:function(t){"use strict";var e=this.index;t.index<e&&e++,l(this.el,e)}},d.prototype={constructor:d,own:function(t){"use strict";var e=this.component,n=e.$children=e.$children||[];t.$owner&&t.$owner.disown(t),t.$owner=e,n.push(t)},disown:function(t){"use strict";var e,n=this.component.$children,r=n.length;for(t.$owner=null,e=0;r>e;e++)n[e]===t&&n.splice(e,1)},render:function(){"use strict";var t=this.component.render();return t?(t.index=this.index,this.children=[t]):this.children=[],this.component.$tree=t,t},create:function(t,e,n){"use strict";var r=this.component=new this.type(this.attrs);r.$tag=this,this.render(),this.owner=n,this.el=e,n.$tag.own(r),y(t,e,this.component,this.children,"dst")},replace:function(t,e,n){"use strict";var r,i=e.el.parentNode;y(t,i,n,[e],"src",N),this.create(t,i,n),r=this.children[0],r.tenant=e},destroy:function(t,e){"use strict";var n=e?N:null;y(t,this.el,this.component,this.children,"src",n),this.owner.$tag.disown(this.component),this.component.$tag=null,this.component=null,this.el=null,this.children=[],this.owner=null},patch:function(t,e){"use strict";this.component=e.component,this.component.$tag=this,this.el=e.el,this.children=e.children,this.owner=e.owner,this.component.set(this.attrs),e.component=null,e.owner=null},update:function(){"use strict";for(var t,e,n,r=[this.component];r.length;)e=r.pop(),e.hasChanged&&e.hasChanged()&&(n=e.$tree,t=e.$tag.render(),f(t,n),e.$updated&&e.onUpdate&&e.onUpdate()),delete e.$updated,e.$dirty=!1,r.push.apply(r,e.$children)}},b=new d,b.component={$tag:b},t.exports={DomNode:p,ComponentNode:d,TEXT_TYPE:C,patch:f,update:w,hook:$}},function(t,e,n){function r(t){"use strict";var e,n,r=t.attributes,i=0;if(r)for(e=r.length,i=0;e>i;i+=1)n=r[i].name,"function"==typeof t[n]&&(t[n]=null)}function i(t){"use strict";var e;t.childNodes;for(e=t.lastChild;e;)t.removeChild(e),e=t.lastChild}function s(t){"use strict";var e=t.parentNode;e&&e.removeChild(t)}function o(t){"use strict";return t=t||window.event,t.stopPropagation||(t.stopPropagation=function(){this.cancelBubble=!0}),t.preventDefault||(t.preventDefault=function(){this.returnValue=!1}),t.target=t.target||t.srcElement,t.relatedTarget=t.relatedTarget||t.toElement||t.fromElement,t.charCode=t.charCode||t.keyCode,t.character=String.fromCharCode(t.charCode),t}function c(t,e){"use strict";return attachEvent("on"+t,e)}function u(t,e){return detachEvent("on"+t,e)}function a(t,e){"use strict";var n=window&&window.addEventListener||c,r=function(t){t=o(t),e.call(t.target,t)};r.__func__=e,n(t,r)}function h(t,e){"use strict";var n=window&&window.removeEventListener||u;n(t,e.__func__||e)}function l(t,e){"use strict";t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function p(t,e){"use strict";t.classList?t.classList.add(e):t.className+=" "+e}function d(t,e){"use strict";if(t.classList)t.classList.toggle(e);else{var n=t.className.split(" "),r=n.indexOf(e);r>=0?n.splice(r,1):n.push(e),t.className=n.join(" ")}}function f(){"use strict";for(var t,e,n,r,i=Array.prototype.slice.call(arguments),s=[],o={};i.length;)if(t=i.shift(),m.isArray(t))i.unshift.apply(i,t);else if(m.isObject(t))for(n in t)t.hasOwnProperty(n)&&(r=t[n],!r||n in o||(s.push(n),o[n]=!0));else m.isString(t)?(e=t.split(/\s+/),e.length>1?i.unshift.apply(i,e):(t=e[0],!t||t in o||(s.push(t),o[t]=!0))):t&&i.unshift(""+t);return s.join(" ")}var m=n(2);t.exports={normalizeEvent:o,removeEventListeners:r,remove:s,empty:i,addEventListener:a,removeEventListener:h,addClass:p,removeClass:l,toggleClass:d,classes:f}}])});