!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(1)},function(t,e,n){function r(t,e,n){"use strict";var r,o,u,f,l,p,h=2;if(i.isObject(e)||(n=e,e=null,h=1),i.isString(n)&&(n=Array.prototype.slice.call(arguments,h)),r={tag:t,attrs:e,children:n||[],$index:0,$oid:a++},n)for(f=n.length,u=0;f>u;u++)l=n[u],i.isString(l)?(l={tag:"text",content:l,$index:u,$oid:++a},n[u]=l):l.$index=u;return e&&e.hasOwnProperty("key")&&(r.$key=e.key,delete e.key),o=r.tag,o in c&&(p=c[o],p.prototype instanceof s?r.tag=p:r=p(r)),r}var i=n(2),s=n(3),o=n(4),u=n(6),c={},a=0;r.component=function(t,e){"use strict";return void 0===e?c[t]:("object"==typeof e&&(e=s.extend(e)),c[t]=e,e)},r.Component=s,r.mount=function(t,e,n){"use strict";e.render?o.mount(t,e):o.mount(t,r(e,n))},r.redraw=o.redraw,r.router=u.router,r.navigate=u.navigate,r.resolve=u.resolve,r.reverse=u.reverse,t.exports=r},function(t,e){function n(t){"use strict";return"[object String]"===Object.prototype.toString.call(t)}function r(t){"use strict";return!!(t&&t.constructor&&t.call&&t.apply)}function i(t){"use strict";return"[object Array]"===Object.prototype.toString.call(t)}function s(t){"use strict";return"[object Object]"===Object.prototype.toString.call(t)}function o(t){"use strict";if(Object.getPrototypeOf)return Object.getPrototypeOf(t);var e="__proto__";return t[e]?t[e]:t.constructor?t.constructor.prototype:void 0}function u(t,e){"use strict";var n,r=t.length;for(n=0;r>n;n++)if(t[n]===e)return t.splice(n,1),n;return-1}function c(t,e){"use strict";var n,r,o,u,a,f,l={},p=0;if(t===e)return!1;if(i(t)&&i(e))for(f=Math.max(t.length,e.length),l=[],a=0;f>a;a++)u=c(t[a],e[a]),u&&(l[a]=u.delta,p+=1);else{if(!s(t)||!s(e))return{delta:e,count:1};for(n in t)t.hasOwnProperty(n)&&(r=t[n],o=e[n],r!==o&&(u=c(r,o),u&&(l[n]=u.delta,p+=1)));for(n in e)!e.hasOwnProperty(n)||n in t||(r=t[n],o=e[n],r!==o&&(u=c(r,o),u&&(l[n]=u.delta,p+=1)))}return p>0?{delta:l,count:p}:!1}function a(t){"use strict";if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}var f=function(t){"use strict";var e,n,r=this,i=r.prototype,s=function(){r.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)};s.prototype=Object.create(r.prototype),s.prototype.constructor=s,n=s.prototype,n.$super=i;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return s.extend=f,s};t.exports={isArray:i,isString:n,isFunction:r,isObject:s,getPrototypeOf:o,diff:c,extend:f,remove:u,assign:a}},function(t,e,n){function r(t,e){"use strict";this.state={},this.inclusion=null,this.$dirty=!1,t&&this.set(t),e&&this.adopt(e)}var i=n(2),s=n(4);r.prototype.render=function(){"use strict";throw new Error("Not implemented")},r.prototype.set=function(t){"use strict";var e,n,r,i=this.state;if(t)for(e in t)t.hasOwnProperty(e)&&(n=t[e],r=i[e],n!==r&&(this.$dirty=!0,this.state[e]=n));this.$dirty&&s.redraw()},r.prototype.adopt=function(t){"use strict";this.inclusion&&i.diff(this.inclusion,t)&&(this.inclusion=t,this.$dirty=!0),this.$dirty&&s.redraw()},r.prototype.hasChanged=function(){"use strict";return this.$dirty},r.prototype.mounted=function(t){"use strict"},r.prototype.unmounted=function(t){"use strict"},r.prototype.destroyed=function(t){"use strict"},r.prototype.updated=function(t){"use strict"},r.extend=i.extend,t.exports=r},function(t,e,n){function r(t,e){"use strict";for(var n,r,i,s,o,u={},c=[{src:t,dst:e,reverse:!1},{src:e,dst:t}],a=0;c.length;)if(n=c.pop(),n.src!==n.dst)if("object"==typeof n.src&&"object"==typeof n.dst){for(i in n.src)if(n.src.hasOwnProperty(i)){if(r=n.key||i,r in u)continue;s=n.src[i],o=n.dst[i],c.push({key:r,src:s,dst:o})}}else if(!(n.key&&n.key in u)){if(a+=1,!n.key){u=e;break}u[n.key]=e[n.key]}return a?{total:a,changes:u}:!1}function i(t,e){"use strict";return"text"===t.tag?document.createTextNode(t.content):b.createElement(t.tag,t.attrs,e)}function s(t,e){"use strict";e=e||E,t.$parent&&o(t),e.$children.push(t),t.$parent=e}function o(t){"use strict";t.$parent&&(N.remove(t.$parent.$children,t),t.$parent=null)}function u(t,e){"use strict";var n,r=t;return r.$children=[],n=r.render(),t.$tree=n,s(t,e),n}function c(t,e){"use strict";if(t.$index!==e.$index){var n=t.$el.parentNode,r=n.childNodes[t.$index];n.insertBefore(t.$el,r)}}function a(t,e,n){"use strict";var r,i,s,o,u,c,a=e.children.length,f=t.children,l=null,p={};for(s=a-1;s>=0;s-=1){if(r=e.children[s],r.hasOwnProperty("$key")){if(null===l)for(l={},o=f.length-1;o>=0;o-=1)i=f[o],l[i.$key]=o;u=l[r.$key]}else u=s;i=f[u],p[u]=!0,c=null,u!==s&&f[s]&&(c=f[s].$el),n.push({src:i,dst:r,index:s,parent:t.$el,before:c})}for(s=f.length-1;s>=0;s-=1)s in p||n.push({src:f[s],index:s})}function f(t){"use strict";for(var e,n,i,s,o=t.render(),u=t.$el.parentNode,f=[{src:t.$tree,dst:o,parent:u,owner:t.$tag}],p=!1;f.length;)e=f.pop(),n=e.src,i=e.dst,n?i?n!==i&&(n.tag===i.tag?n.content?(n.content!==i.content&&(n.$el.nodeValue=i.content),i.$el=n.$el):(s=r(n.attrs,i.attrs),n.$instance?(s&&n.$instance.set(i.attrs),i.$instance=n.$instance):(s?(d(n,i,s),p=!0):i.$el=n.$el,a(n,i,f))):(l(n,i),p=!0),c(i,n),p=!0):(h(n),p=!0):(g(e.parent,i,e.before),p=!0);t.$tree=o,p&&"function"==typeof t.updated&&t.updated(t.$el)}function l(t,e){"use strict";var n=t.$instance?t.$instance.$el:t.$el,r=n.nextSibling,i=n.parentNode,s=t.owner;h(t);var o=document.createDocumentFragment();e.owner=s,g(o,e),i.insertBefore(o,r)}function p(t,e){"use strict";var n,r,i,s=[t],u=[],c=t.$el,a=t.$tag;for(o(t);s.length;)r=s.pop(),u.push(r),i=r.$children,s.push.apply(s,i),delete r.$children,delete r.$parent;for(n=u.length-1;n>=0;n--)r=u[n],r.unmounted(r.$el),delete r.$el;delete t.$tag,t.persist&&(delete a.$instance,t.destroyed()),e||b.removeNode(c)}function h(t){"use strict";var e,n,r,i=[t];for(r=t.$instance?t.$instance.$el:t.$el;i.length;)e=i.pop(),t.$instance?p(t.$instance,!0):(n=e.children,n&&i.push.apply(i,n));console.log("Removed",r),b.removeNode(r)}function d(t,e,n){"use strict";var r=t.$el;e.$el=r,b.setAttributes(r,n.changes)}function g(t,e,n){"use strict";for(var r,s,o,c,a,f,l,p,h=[{tag:e,parent:t,owner:e.owner,before:n}],d=[];h.length;)if(s=h.pop(),o=s.tag,l=s.owner,"function"==typeof o.tag?(r=s.parent,o.$instance?l=o.$instance:(l=new o.tag(o.attrs,o.children),l.$tag=o),p=u(l,s.owner),p?(p.$instance=l,f=[p],o.$instance=l):f=[]):(r=i(o),o.$instance&&(o.$instance.$el=r,d.push(o.$instance),l=o.$instance,delete o.$instance),s.before?s.parent.insertBefore(r,s.before):s.parent.appendChild(r),f=o.children,o.$el=r,o.$parent=s.parent),f)for(a=f.length-1,c=a;c>=0;c-=1)p=f[c],h.push({tag:p,parent:r,owner:l});for(c=d.length-1;c>=0;c--)p=d[c],p.mounted(p.$el)}function v(t){"use strict";var e=document.createDocumentFragment();return t.$instance&&h(t),g(e,t),e}function m(t,e){"use strict";b.removeChildren(t);var n=v(e);return t.appendChild(n),e}function y(t){"use strict";h(t)}function $(){"use strict";for(var t,e=[].concat(E.$children);e.length;)t=e.pop(),t.$el&&t.hasChanged()&&f(t),e.push.apply(e,t.$children)}function w(){"use strict";j=!1,$(),O&&(j=!0,requestAnimationFrame(w)),O=!1}function x(){"use strict";return j?void(O=!0):(O=!1,j=!0,void requestAnimationFrame(w))}var b=n(5),N=n(2),j=!1,O=!1,E={$children:[]};t.exports={mount:m,redraw:x,unmount:y}},function(t,e,n){function r(t,e){"use strict";var n,r;if("string"==typeof e)t.style.cssText=e;else{t.style.cssText="",r=t.style;for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}}function i(t,e){"use strict";var n,i,s;for(n in e)e.hasOwnProperty(n)&&(i=e[n],"value"===n&&"TEXTAREA"===t.tagName?t.value=i:null===i?t.removeAttribute(n):(s=typeof i,"style"===n?r(t,i):"function"===s||"object"===s?t[n]=i:("boolean"===s&&(t[n]=i),t.setAttribute(n,i))))}function s(t,e){"use strict";return t[e]}function o(t,e){"use strict";return t.getAttribute(t)}function u(t){"use strict";var e,n,r=t.attributes,i=0;if(r)for(e=r.length,i=0;e>i;i+=1)n=r[i].name,"function"==typeof t[n]&&(t[n]=null)}function c(t){"use strict";var e;t.childNodes;for(e=t.lastChild;e;)t.removeChild(e),e=t.lastChild}function a(t,e){"use strict";return"svg"===t?"http://www.w3.org/2000/svg":e?e.namespaceURI:null}function f(t){"use strict";var e=t.parentNode;e&&e.removeChild(t)}function l(t){"use strict";return t=t||window.event,t.stopPropagation||(t.stopPropagation=function(){this.cancelBubble=!0}),t.preventDefault||(t.preventDefault=function(){this.returnValue=!1}),t.target=t.target||t.srcElement,t.relatedTarget=t.relatedTarget||t.toElement||t.fromElement,t.charCode=t.charCode||t.keyCode,t.character=String.fromCharCode(t.charCode),t}function p(t,e,n){"use strict";var r,s=a(t,n);return r=s?document.createElementNS(s,t):document.createElement(t),e&&i(r,e),r}function h(t,e,n,r){"use strict";"number"==typeof n&&n%1===0&&(n=t.childNodes[n]),n?r?t.replaceChild(e,n):t.insertBefore(e,n):t.appendChild(e)}function d(t,e){"use strict";return attachEvent("on"+t,e)}function g(t,e){return detachEvent("on"+t,e)}function v(t,e){"use strict";var n=window&&window.addEventListener||d,r=function(t){t=l(t),e.call(t.target,t)};r.__func__=e,n(t,r)}function m(t,e){"use strict";var n=window&&window.removeEventListener||g;n(t,e.__func__||e)}n(2);t.exports={normalizeEvent:l,removeEventListeners:u,removeNode:f,getNamespace:a,setAttributes:i,setStyle:r,removeChildren:c,createElement:p,getProperty:s,getAttribute:o,adopt:h,addEventListener:v,removeEventListener:m}},function(t,e,n){function r(){"use strict";var t=window.location.pathname;"/"!==t.name.charAt(0)&&(t="/"+t);var e=p(t);e&&e.func(e.args)}function i(){"use strict";window.addEventListener("popstate",r)}function s(){"use strict";window.removeEventListener("popstate",r)}function o(t,e){"use strict";e=e||{};var n=window.history,r=e&&e.replace?n.replaceState:n.pushState;r(null,e&&e.title,t)}function u(t){"use strict";var e=t[0],n=t[1],r=t[2];t.length<3&&(n=r,r=null),this.parser=d.parse(e,"function"==typeof r),this.name=n,this.fullName=n,this.segments=[this.parser];var i,s=this.children=[];if(g.isArray(r)){var o,c,a=r.length;for(c=0;a>c;c++)o=r[c],i=o instanceof u?o:new u(o),s.push(i)}else this.func=r}function c(t){"use strict";for(var e,n,r,s,o,u,c,a=[{route:t,fullNames:[],segments:[]}];a.length;)for(e=a.pop(),u=e.route,u.initialize(e.fullNames,e.segments),s=u.children,r=s.length,n=0;r>n;n++)o=s[n],c=u.name,a.push({route:o,fullNames:e.fullNames.concat(c.length?[c]:[]),segments:e.segments.concat([u.parser])});v.push(t),v.length&&!y&&(i(),y=!0)}function a(t){"use strict";for(var e,n=(v.length,[t]);n.length;)e=n.pop(),e.func?e.destroy():n.push.apply(n,e.children);g.remove(v,t),!v.length&&y&&(s(),y=!1)}function f(t,e){"use strict";var n=m[t];return n?n.reverse(e):void 0}function l(t){"use strict";var e=m[t];return e?e.func:p(t).func}function p(t){"use strict";for(var e,n,r=v.slice(0);r.length;)if(e=r.pop(),n=e.match(t)){if(e.func)return{func:e.func,args:n};r.push.apply(r,e.children)}return!1}function h(t,e,n){"use strict";this.routes=new u([t,e,n])}var d=n(7),g=n(2),v=[],m={},y=!1;u.prototype.match=function(t,e,n){"use strict";e=e||0,n=n||0;var r,i,s,o=this.segments.slice(n),u=o.length,c={};for(t=t.substr(e),r=0;u>r;r++){if(i=o[r],!(s=i(t)))return!1;t=t.substr(s.$lastIndex),g.assign(c,s)}return delete c.$lastIndex,c},u.prototype.reverse=function(t){"use strict";var e,n,r,i=this.segments,s=i.length,o=[];for(e=0;s>e;e++){if(n=i[e],(r=n.reverse(t))===!1)return!1;o.push(r)}return o.join("")},u.prototype.destroy=function(){"use strict";if(this.func){var t=m[this.fullName];t===this&&delete m[this.fullName]}},u.prototype.initialize=function(t,e){"use strict";this.fullName=t.length?t.join(":")+":"+this.name:this.name,this.segments=e.concat([this.parser]),this.func&&(m[this.fullName]=this)},h.prototype.start=function(){"use strict";c(this.routes)},h.prototype.stop=function(){"use strict";a(this.routes)},t.exports={resolve:l,reverse:f,router:function(t,e,n){"use strict";return new h(t,e,n)},navigate:o}},function(t,e){function n(t,e){"use strict";a[t]=e}function r(t){"use strict";var e,n;for(e in a)if(a.hasOwnProperty(e)&&(n=a[e])&&n.match(t))return{pattern:n.pattern(t),coerce:n.coerce};return{pattern:t}}function i(t,e,n,i,s){"use strict";var o,u=t.length,a="";n=n||[],i=i||[],s=s||[],"/"===t.charAt(u-1)&&(a="/",t=t.substring(0,u-1));var f,l,p,h,d,g,v,m,y,$,w=t.split("/"),x=w.length,b=[],N=0,j=e?"$":"";for(f=0;x>f;f++)l=w[f],o=f===x-1?"":"/",p=c.exec(l),p?(h=p[1],g=!!p[2]||"*"===p[3],$=r(p[3]),d=$.pattern,v=parseInt(p[4]),m=parseInt(p[5]),y=isNaN(v)&&isNaN(m)?"":"{"+m||","+v||"}",d="("+d+")"+y,s.push({name:h,index:N,regex:new RegExp(d),optional:g}),d+=o,g&&(d="(?:"+d+")?"),b.push(d),n.push(h),i.push($.coerce),N+=1):(b.push(l+o),s.push(l));return a&&s.push(""),new RegExp("^"+b.join("")+a+j)}function s(t,e,n,r){"use strict";var i,s,o,u,c=t.exec(r),a={},f=e.length,l=0;if(c){for(s=c.length,i=0;s>i;i++)o=c[i+1],void 0!==o&&(++l,f>i&&(u=n[i],"function"==typeof u&&(o=u(o)),a[e[i]]=o),a[i]=o);return a.$lastIndex=c[0].length,a}return!1}function o(t,e){"use strict";var n,r,i,s,o=t.length,u=[];for(e=e||{},n=0;o>n;n++)if(r=t[n],"object"==typeof r)if(s=void 0,e.hasOwnProperty(r.name)?s=e[r.name]:e.hasOwnProperty(r.index)&&(s=e[r.index]),void 0===s){if(!r.optional)return!1}else{if(i=String(s),!r.regex.test(i))return!1;u.push(i)}else u.push(r);return u.join("/")}function u(t,e){"use strict";var n=[],r=[],u=[],c=i(t,e,r,u,n),a=function(t){return s(c,r,u,t)},f=function(t){return o(n,t)};return a.regex=c,a.reverse=f,a}var c=/^(\w*)(\?)?:(.+?)(?:\s*\{\s*(\d*)\s*(?:,\s*(\d*))?\s*\})?$/,a={alpha:{match:function(t){"use strict";return"alpha"===t},pattern:function(t){"use strict";return"[a-zA-Z]+"}},alnum:{match:function(t){"use strict";return"alnum"===t},pattern:function(t){"use strict";return"\\w+"}},"int":{match:function(t){"use strict";return t in{num:1,"int":1}},pattern:function(t){"use strict";return"\\d+"},coerce:function(t){"use strict";return parseInt(t)}},any:{match:function(t){"use strict";return"any"===t},pattern:function(t){"use strict";return"[^/]*"}},greedyAny:{match:function(t){"use strict";return"*"===t},pattern:function(t){"use strict";return".*"}},choice:{match:function(t){"use strict";return"("===t.charAt(0)&&")"===t.charAt(t.length-1)},pattern:function(t){"use strict";var e=t.substring(1,t.length-1).split(",");return e.join("|")}},name:{match:function(t){"use strict";return"name"===t},pattern:function(){"use strict";return"[a-zA-Z]\\w+"}}};t.exports={parse:u,register:n}}])});