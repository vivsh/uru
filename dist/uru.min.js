!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.uru=e():t.uru=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function r(t,e,n){"use strict";a.patch(t,null,e,n);return e.uruNode=t,t}function i(t){"use strict";var e=t.el;e&&delete e.parentNode.uruNode,a.patch(null,t)}function s(t){"use strict";t=t||document,a.render(function(){c.ready(function(){var e,n,i,s,o=t.querySelectorAll("[data-uru-component]")||[];for(e=0;e<o.length;e++)n=o[e],n.uruNode||(i=c.data(n,"uru-context")||{},s=n.getAttribute("data-uru-component"),r(f(s,i),n))})})}var o=n(1),u=n(2),a=n(3),c=n(4),l=n(5),h=n(6),f=n(7),d=n(8);f.mount=function(){"use strict";var t=arguments;return r.apply(null,t),t[0]},f.unmount=function(){"use strict";var t=arguments;i.apply(null,t)},f.automount=s,f.tie=function(t,e){"use strict";return function(n){var r=n.target[t],i={};o.isString(e)?(i[e]=r,this.set(i)):e.call(this,r)}},f.redraw=a.redraw,f.nextTick=a.nextTick,f.dom=c,f.utils=o,f.Component=u,f.emitter=l,l.enhance(f),f.clean=function(t){"use strict";if(t.nodeType)for(var e=t.querySelectorAll("[data-uru-component]"),n=0;n<e.length;n++){var r=e[n],i=r.uruNode;i&&(a.clean(i),delete r.uruNode)}else a.clean(t)},f.setContext=function(t,e){"use strict";t.uruNode.component.set(e),a.redraw()},f.types=d,f.stringify=h.stringify,t.exports=f},function(t,e){function n(){}function r(t){"use strict";return"[object String]"===Object.prototype.toString.call(t)}function i(t){"use strict";return!!(t&&t.constructor&&t.call&&t.apply)}function s(t){"use strict";return"[object Array]"===Object.prototype.toString.call(t)}function o(t){"use strict";return"[object Object]"===Object.prototype.toString.call(t)}function u(t){"use strict";if("object"==typeof t&&null!==t){if("function"==typeof Object.getPrototypeOf){var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}return!1}function a(t,e){"use strict";var n,r=t.length;for(n=0;n<r;n++)if(t[n]===e)return t.splice(n,1),n;return-1}function c(t){"use strict";if(Object.assign)return Object.assign.apply(this,arguments);if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=t,n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}function l(t,e){"use strict";for(var n,r,i,s,o,u={},a=[{src:t,dst:e,reverse:!1},{src:e,dst:t}],c=0;a.length;)if(n=a.pop(),n.src!==n.dst)if("object"==typeof n.src&&"object"==typeof n.dst){for(i in n.src)if(n.src.hasOwnProperty(i)){if(r=n.key||i,r in u)continue;s=n.src[i],o=n.dst[i],a.push({key:r,src:s,dst:o})}}else if(!(n.key&&n.key in u)){if(c+=1,!n.key){u=e;break}u[n.key]=e[n.key]}return!!c&&{total:c,changes:u}}function h(t,e,n){"use strict";var r=n;return e in t&&(r=t[e],delete t[e]),r}function f(t){"use strict";var e,n,r,i=[];for(e in t)if(t.hasOwnProperty(e))for(n=t[e],n=s(n)?n:[n],r=0;r<n.length;r++)i.push(encodeURIComponent(e)+"="+encodeURIComponent(n[r]));return i.join("&")}function d(){"use strict";var t=window.location.pathname;return"/"!==t.charAt(0)&&(t="/"+t),t}function p(t,e,n){"use strict";var r;return function(){var i=this,s=arguments,o=function(){r=null,n||t.apply(i,s)},u=n&&!r;clearTimeout(r),r=setTimeout(o,e),u&&t.apply(i,s)}}function g(t,e){"use strict";var n,r,i,s,o,u,a,c,l,h=[{a:t,b:e}];if(t===e)return!0;for(;h.length;)if(o=h.shift(),i=o.a,s=o.b,n=typeof o.a,r=typeof o.b,i===s);else{if(n!==r)return!1;if("date"===n)return i.getTime()===s.getTime();if("object"!==n)return!1;if(null==i||null==s)return!1;if(i.constructor!==s.constructor)return!1;if(Object.isFrozen(i)||Object.isFrozen(s))return!1;if("[object Array]"===Object.prototype.toString.call(i))for(l=Math.max(i.length,s.length),u=0;u<l;u++)h.push({a:i[u],b:s[u]});else{c={};for(a in i)i.hasOwnProperty(a)&&(h.push({a:i[a],b:s[a]}),c[a]=1);for(a in s)!s.hasOwnProperty(a)||a in c||h.push({a:i[a],b:s[a]})}}return!0}function v(t,e,n,r){"use strict";var i,s,o=l(t,e);if(o!==!1){o=o.changes;for(i in o)o.hasOwnProperty(i)&&(s=o[i],n.call(r,i,s,void 0!==s))}}function y(t){"use strict";var e=Object.create(t),n=Array.prototype.slice.call(arguments,1);return n.unshift(e),e["super"]=t,c.apply(null,n)}function m(t){"use strict";return t.replace(/\\([\s\S])|(")/g,"\\$1$2")}function w(t,e){"use strict";return function(){return t.apply(e,Array.prototype.slice.call(arguments,2))}}function b(t){"use strict";for(var e=Array.prototype.slice.call(arguments,1),n=0;n<e.length;n++)w(t[e[n]],t)}var $=function(t,e){"use strict";var n=this,r=n.prototype,i=t.hasOwnProperty("constructor")?t.constructor:function(){n.apply(this,arguments)},s=h(t,"statics"),o=h(t,"properties");return i.prototype=y(n.prototype,t,{constructor:i}),c(i,{extend:$},n,s,e),o&&Object.defineProperties(i.prototype,o),i["super"]=r,i},x=function(t){"use strict";return 0===t.indexOf("//")&&(t=location.protocol+t),t.toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]},E=function(t){"use strict";return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&x(location.href)!==x(t)};t.exports={isArray:s,isString:r,isPlainObject:u,isFunction:i,isObject:o,extend:$,remove:a,merge:c,diffAttr:l,objectDiff:l,objectReact:v,take:h,assign:c,noop:n,isExternalUrl:E,buildQuery:f,pathname:d,debounce:p,isEqual:g,create:y,quote:m,bind:w,bindAll:b}},function(t,e,n){function r(t,e){"use strict";t=i.merge({},this.context,t),this.$children=[],this.$events={},this.context={},this.$dirty=!0,this.set(t,!0),this.$dirty=!1,this.$created=!0,this.$own(e),this.initialize&&(this.initialize(this.context),this.$dirty=!0)}var i=n(1),s=(n(3),n(5));r.prototype={initialize:function(){},constructor:r,render:function(t,e){"use strict";throw new Error("Not implemented")},hasChanged:function(){"use strict";if(this.getContext){var t=this.getContext(this.context);return t&&this.set(t),this.$dirty}return!0},getParent:function(){"use strict";return this.$owner},set:function(t,e){"use strict";var n,r,i,s,o=this.context,u=!1,a=this.$events,c={},l=0;if(t){for(n in t)t.hasOwnProperty(n)&&(r=t[n],i=o[n],"on"===n.substr(0,2)?(s=n.substr(2),s in a&&(this.off(s,a[s]),delete a[s]),r&&(this.on(s,r),a[s]=r)):r!==i&&(o[n]=r,c[n]={current:r,previous:i},u=!0,l++));for(n in a)!a.hasOwnProperty(n)||"on"+n in t||this.off(n)}if(u&&!e){if(l)for(var h in c)c.hasOwnProperty(h)&&this.trigger("change:"+h,c[h]);this.$created=!1}u&&(this.$dirty=u)},$mounted:function(){"use strict";this.onMount&&this.onMount(),this.trigger("mount")},$unmounted:function(){"use strict";this.onUnmount&&this.onUnmount(),this.trigger("unmount")},$destroyed:function(){"use strict";this.off(),this.stopListening(),this.$events={},this.onDestroy&&this.onDestroy(),this.trigger("destroy")},$disown:function(){"use strict";var t,e,n=this.$owner,r=n.$children;for(e=r.length,this.$owner=null,t=0;t<e;t++)if(r[t]===this)return void r.splice(t,1)},$own:function(t){"use strict";if(t){var e=t.$children||(t.$children=[]);this.$owner&&this.$disown(),this.$owner=t,e.push(this)}}},r.extend=i.extend,s.enhance(r.prototype),t.exports=r},function(t,e,n){function r(t,e){"use strict";var n,r,i=["value","checked","selected","selectedIndex","valueAsNumber","valueAsNumber"];if(e.tagName in{SELECT:1,INPUT:1,TEXTAREA:1}){var s=t.attrs||{};for(n=0;n<i.length;n++)r=i[n],s.hasOwnProperty(r)&&(s[r]=e[r]);t.attrs=s}}function i(t,e){"use strict";return"svg"===t?"http://www.w3.org/2000/svg":e?e.namespaceURI:null}function s(t,e){"use strict";var n,r=t.type,s=t.attrs,o=i(r,e);return n=o?document.createElementNS(o,r):document.createElement(r),t.el=n,s&&f(t,s),n}function o(t,e){"use strict";var n,r;if(e)if("string"==typeof e)t.style.cssText=e;else{t.style.cssText="",r=t.style;for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}else t.style=""}function u(t){"use strict";var e,n=t.tagName;return e="BUTTON"===n?"click":"TEXTAREA"===n||"INPUT"===n&&t.type in{search:1,password:1,text:1}?"change":"SELECT"===n?"change":"INPUT"===n?"change":"click"}function a(t){"use strict";var e="__uruData",n=t[e]||(t[e]={events:{},plugins:{}});return n}function c(t,e,n,i){"use strict";var s=a(e).events,o=n;if("action"===o&&(o=u(e)),n in s&&l(t,n),i){var c=function(n){n=P.normalizeEvent(n),r(t,e),i(n),N()};s[n]=c,e.addEventListener(o,c,!1)}}function l(t,e){"use strict";var n,r=t.el,i=a(r),s=i.events,o=e;i.plugins;if(arguments.length<2)for(o in s)s.hasOwnProperty(o)&&l(t,o);else n=s[e],"action"===o&&(o=u(r)),r.removeEventListener(o,n),delete s[e]}function h(t,e){"use strict";t.style.display=e?"":"none"}function f(t,e){"use strict";var n,r,i,s=t.el,u={className:1,checked:1,selected:1,disabled:1,readonly:1,innerHTML:1,innerText:1,value:1},a=[];"INPUT"===s.tagName&&"type"in e&&(s.type=e.type,delete e.type);for(n in e)e.hasOwnProperty(n)&&(r=e[n],"on"===n.substr(0,2)?a.push([n.substr(2),r]):"class"===n?s.className=P.classes(r):"value"===n&&s.tagName in{TEXTAREA:1}?s.value=r||"":"show"===n?h(s,r):null!==r&&void 0!==r||n in u?(i=typeof r,"style"===n?o(s,r):n in u||"function"===i||"object"===i?s[n]=null==r?"":r:("boolean"===i&&(s[n]=r),s.setAttribute(n,r))):s.removeAttribute(n));var l,f;for(l=0;l<a.length;l++)f=a[l],c(t,s,f[0],f[1])}function d(t,e,n,r){"use strict";var i=t.el;"number"==typeof n&&n%1===0&&(n=e.childNodes[n]),n?e.insertBefore(i,n):e.appendChild(i)}function p(t){"use strict";var e=t.el,n=e.parentNode;n.removeChild(e)}function g(t,e){"use strict";var n=t.el,r=n.parentNode,i=r.childNodes[e];i!==n&&r.insertBefore(n,i)}function v(t,e,n,r){"use strict";this.type=t,this.attrs=e,this.children=n,this.el=null,this.index=arguments.length<4?-1:r,this.owner=null,this.events={},this.oid=++I}function y(t,e,n,r){"use strict";this.type=t,this.attrs=e,this.children=[],this.owner=null,this.el=null,this.inclusion=n,this.component=null,this.index=arguments.length<4?-1:r,this.oid=++I}function m(t,e){"use strict";console.log(e.stack);var n=t.$owner;t.$tag.defective=!0,n.trigger("error",e)}function w(t,e,n,r){"use strict";var i,s,o,u,a,c,l,h,f={src:e,dst:t,owner:e&&e.owner||F.component,parent:e?e.el.parentNode:document.createDocumentFragment()},d=[f],p=[],g=[];if(t===e)return f.parent;for(;d.length;)if(i=d.pop(),s=i.src,o=i.dst,u=i.parent,a=i.owner,c=null,o)if(s)s.type!==o.type?o instanceof y?(s.component&&(g.push(s.component),s.component.$unmounted()),o.replace(d,s,a),o.component&&p.push(o.component)):($(d,u,a,[o],"dst"),$(d,u,a,[s],"src")):o.patch(d,s,a);else try{o.create(d,u,a),o.component&&p.push(o.component)}catch(v){o.errorRoot=n,m(o.component,v)}else s.component&&(g.push(s.component),s.component.$unmounted()),s.destroy(d,i.action===U);for(n&&(r===!0?n.parentNode.replaceChild(n,f.parent):r?n.insertBefore(f.parent,r):n.appendChild(f.parent)),l=p.length-1;l>=0;l--)h=p[l],h.$mounted();for(l=g.length-1;l>=0;l--)h=g[l],h.$destroyed();return f.parent}function b(t){"use strict";var e,n,r=t.length,i={};for(e=0;e<r;e++)n=t[e],"number"==typeof n.key&&(i[n.key]=n);return i}function $(t,e,n,r,i,s){"use strict";var o,u,a=r.length;for(o=a-1;o>=0;o--)u={owner:n,parent:e,action:s},u[i]=r[o],t.push(u)}function x(t,e,n,r,i){"use strict";var s,o,u,a,c,l={},h=[];for(o=i.length,s=0;s<o;s++)a=i[s],null!=a.key?(c||(c=b(r)),u=c[a.key]):u=r[s],u&&(l[u.oid]=!0),h.push({owner:n,src:u,dst:a,parent:e});for(o=r.length,s=0;s<o;s++)u=r[s],u.oid in l||h.push({owner:n,src:u,dst:null,parent:e});h.reverse(),t.push.apply(t,h)}function E(){"use strict";J+=1,F.update()}function O(t,e,n){"use strict";return J+=1,w(t,null,e,n),t}function _(){"use strict";E(),C=!1,k&&N()}function N(t){"use strict";t===!0?k=!0:(k=!1,C||(C=!0,A(_)))}function S(t){"use strict";var e=C;C=!0,A(t),C=e}function T(t){"use strict";for(var e,n=[t];n.length;)e=n.shift(),e&&e.type!==-1&&(e instanceof v&&l(e),n.unshift(e.$tree))}var A,D=n(1),P=n(4),j=n(5),C=!1,k=!1;A="object"==typeof window?window.requestAnimationFrame||window.setTimeout:D.noop;var F,L=-1,U=1,J=(new Date).getTime(),I=87,M=["innerText","innerHTML","value","checked","selected","selectedIndex","disabled","readonly","className","style","valueAsDate","valueAsNumber"],V={};!function(){"use strict";for(var t=0;t<M.length;t++)V[M[t]]=!0}(),v.prototype={constructor:v,create:function(t,e,n){"use strict";var r,i=this.type===L;r=i?document.createTextNode(this.children):s(this,e),this.el=r,this.owner=n,d(this,e),this.reorder(this),delete this.tenant,n&&n.$tree===this&&n.$tag.setEl(this),n.$updated=!0,i||$(t,this.el,this.owner,this.children,"dst")},destroy:function(t,e){"use strict";var n=this.type===L;this.owner,this.el;n||$(t,this.el,this.owner,this.children,"src",U),e||p(this),l(this),this.owner.$updated=!0,this.el=null,this.owner=null},patch:function(t,e,n){"use strict";var r=e.el,i=this.type===L;if(this===e)throw new Error("Src and this should never be the same");if(this.el=r,this.owner=n,n&&n.$tree===this&&n.$tag.setEl(this),i)e.children!==this.children&&(r.nodeValue=this.children,n.$updated=!0);else{var s,o=D.objectDiff(e.attrs,this.attrs);o&&(s=o.changes,f(this,s),n.$updated=!0)}this.index!==e.index&&this.reorder(e),i||x(t,this.el,n,e.children,this.children),e.owner=null,e.el=null},reorder:function(t){"use strict";var e=this.index;t.index<e&&e++,g(this,e)}},y.prototype={constructor:y,render:function(){"use strict";var t=this.inclusion,e=this.component.render(this.component.context,t);return e?(e.index=this.index,this.children=[e]):this.children=[],this.component.$tree=e,e},create:function(t,e,n){"use strict";var r=this.component=new this.type(this.attrs,n);r.$tag=this,r.$lastUpdate=J,this.owner=n,r.hasChanged&&r.hasChanged(),this.render(),this.el=null,$(t,e,this.component,this.children,"dst")},replace:function(t,e,n){"use strict";var r,i=this.component=new this.type(this.attrs,n);i.$tag=this,i.$lastUpdate=J,this.owner=n,i.hasChanged&&i.hasChanged(),this.render(),this.el=null,e.component?(r=e.component.$tree,e.component.$disown(),e.component.$tag=null,e.owner=null,e.children=null,e.component=null):r=e,t.push({src:r,dst:this.component.$tree,owner:this.component,parent:e.el.parentNode})},mount:function(){"use strict"},destroy:function(t,e,n){"use strict";var r=e?U:null;this.component.$disown(),n||$(t,this.el,this.component,this.children,"src",r),this.component.$tag=null,this.component=null,this.el=null,this.children=null,this.owner=null},patch:function(t,e,n){"use strict";if(this!==e){var r,i,s=this.component=e.component;s.$owner!==n&&s.$own(n),s.$tag=this,i=e.attrs;for(r in i)i.hasOwnProperty(r)&&("on"===r.substr(0,2)?s.off(i[r.substr(2)]):delete s.context[r]);s.set(this.attrs),this.el=e.el,this.children=e.children,s.$dirty=!0,this.owner=e.owner,e.children=null,e.component=null,e.owner=null,e.el=null}},update:function(){"use strict";for(var t,e,n,r=J,i=[this.component];i.length;){n=null,e=i.pop();try{if(e.$lastUpdate!==r&&e.hasChanged&&e.hasChanged()){if(n=e.$tree,t=e.$tag.render(),t===n)continue;w(t,n),e.$updated&&e.onUpdate&&e.onUpdate(),e.$lastUpdate=r}delete e.$updated,e.$dirty=!1,i.push.apply(i,e.$children)}catch(s){m(e,s)}}},setEl:function(t){"use strict";for(var e=this.component;e&&e.$tree===t;)e.el=t.el,e.$tag.el=t.el,t=e.$tag,e=e.$owner;return this.component.el}},F=new y,F.component={$tag:F,$name:"_root",name:"_root"},j.enhance(F.component),t.exports={DomNode:v,ComponentNode:y,TEXT_TYPE:L,patch:w,mount:O,update:E,render:S,redraw:N,nextTick:function(t){"use strict";A(t)},clean:T}},function(t,e,n){function r(t){"use strict";var e,n,r=t.attributes,i=0;if(r)for(e=r.length,i=0;i<e;i+=1)n=r[i].name,"function"==typeof t[n]&&(t[n]=null)}function i(t){"use strict";var e;t.childNodes;for(e=t.lastChild;e;)t.removeChild(e),e=t.lastChild}function s(t){"use strict";var e=t.parentNode;e&&e.removeChild(t)}function o(t){"use strict";return t=t||window.event,t.stopPropagation||(t.stopPropagation=function(){this.cancelBubble=!0}),t.preventDefault||(t.preventDefault=function(){this.returnValue=!1}),"target"in t||(t.target=t.srcElement),"relatedTarget"in t||(t.relatedTarget=t.toElement||t.fromElement),"charCode"in t||(t.charCode=t.keyCode),t}function u(t,e,n){"use strict";var r=function(t){t=o(t),n.call(t.target,t)};r.__func__=n,t.addEventListener(e,r)}function a(t,e,n){"use strict";t.removeEventListener(t,e,n.__func__||n)}function c(t,e){"use strict";t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(t,e){"use strict";t.classList?t.classList.add(e):t.className+=" "+e}function h(t,e){"use strict";if(t.classList)t.classList.toggle(e);else{var n=t.className.split(" "),r=n.indexOf(e);r>=0?n.splice(r,1):n.push(e),t.className=n.join(" ")}}function f(){"use strict";for(var t,e,n,r,i=Array.prototype.slice.call(arguments),s=[],o={};i.length;)if(t=i.shift(),x.isArray(t))i.unshift.apply(i,t);else if(x.isObject(t))for(n in t)t.hasOwnProperty(n)&&(r=t[n],!r||n in o||(s.push(n),o[n]=!0));else x.isString(t)?(e=t.split(/\s+/),e.length>1?i.unshift.apply(i,e):(t=e[0],!t||t in o||(s.push(t),o[t]=!0))):t&&i.unshift(""+t);return s.join(" ")}function d(t){"use strict";"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function p(t,e){"use strict";var n=t.getAttribute("data-"+e);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}}function g(t,e){"use strict";for(var n,r,i=[t];i.length;)n=i.shift(),1===n.nodeType&&(r=n.tagName,"INPUT"===r||"SELECT"===r||"TEXTAREA"===r?e(n,m(n)):i.push.apply(i,n.childNodes))}function v(t,e){"use strict";for(var n,r,i,s=[],o=[t];o.length;)n=o.shift(),1===n.nodeType&&(r=n.tagName,"INPUT"!==r&&"SELECT"!==r&&"TEXTAREA"!==r?o.push.apply(o,t.childNodes):null!=(i=e(n))&&w(n,i));return s}function y(t){"use strict";function e(t,e){var r,i=t.name;i in n?(r=n[i],x.isArray(r)||(n[i]=[r]),e&&n[i].push(e)):e&&(n[i]=e)}var n={};return g(t,e),n}function m(t){"use strict";var e=t.tagName;if("TEXTAREA"===e)return t.value;if("SELECT"===e){if(t.multiple){for(var n=t.options,r=[],i=0;i<n.length;i++)n[i].selected&&r.push(n[i].value);return r}return t.value}return"INPUT"===e?t.type in{date:1,datetime:1,"datetime-local":1,time:1}?t.valueAsDate:"number"===t.type?t.valueAsNumber:"radio"===t.type||"checkbox"===t.type?t.checked?t.value:null:t.value:t.value}function w(t,e){"use strict";var n,r=t.tagName,i={};if(x.isArray(e))for(n=0;n<e.length;n++)i[e[n]]=!0;if("TEXTAREA"===r)t.value=e;else if("SELECT"===r)if(t.multiple){var s,o=t.options;for(n=0;n<o.length;n++)s=o[n],o[n].selected=s.value==e||s.value in i}else t.value=e;else"INPUT"===r&&(t.type in{date:1,datetime:1,"datetime-local":1}?e instanceof Date?t.valueAsDate=e:t.value=e:"number"===t.type?t.value=e:"radio"===t.type||"checkbox"===t.type?t.checked=t.value==e||t.value in i:t.value=e);return t.value}function b(t,e){"use strict";return t.tagName===e}function $(t,e){"use strict";for(var n=t,r="function"==typeof e?e:b;!r(n,e)&&n.parentNode;)n=n.parentNode;return n}var x=n(1);t.exports={normalizeEvent:o,removeEventListeners:r,remove:s,empty:i,addEventListener:u,removeEventListener:a,addClass:l,removeClass:c,toggleClass:h,classes:f,ready:d,data:p,getValue:m,setValue:w,closest:$,collectValues:g,populateValues:v,getFormData:y}},function(t,e,n){function r(t,e,n){"use strict";this.source=t,this.type=e,this.data=n,this._propagate=!0,this._default=!0}var i=n(1);r.prototype={constructor:r,isDefaultPrevented:function(){"use strict";return!this._default},isPropagationStopped:function(){"use strict";return!this._propagate},preventDefault:function(){"use strict";this._default=!1},stopPropagation:function(){"use strict";this._propagate=!1}};var s={on:function(t,e){"use strict";var n=this.$handlers;return n||(n=this.$handlers={}),t in n||(n[t]=[]),n[t].push(e),this},off:function(t,e){"use strict";var n=arguments.length,r=this.$handlers;if(r&&(!t||t in r)){if(0===n)this.$handlers={};else if(1===n)delete r[t];else{this.$handlers[t];i.remove(r[t],e)}return this}},trigger:function(t,e,n){"use strict";n=n||{bubble:!1};for(var i=new r(this,t,e),s=this,o=n.defaultHandler;s&&s.$callHandlers&&(s.$callHandlers(i),n.bubble&&!i.isPropagationStopped());)s=s.getParent?s.getParent():null;return o&&!i.isDefaultPrevented()&&o(i),i},$callHandlers:function(t){"use strict";var e=this.$handlers,n=t.type,r=this.getParent?this.getParent():null;if(e&&n in e){var i,s=e[n];for(i=0;i<s.length;i++)s[i].call(r,t)}},listenTo:function(t,e,n){"use strict";function r(){return n.apply(o,arguments)}var s=this.$monitors,o=this;return i.isString(n)&&(n=this[n]),r.originalFunc=n,s||(s=this.$monitors=[]),t.on(e,r),s.push([t,e,r]),this},stopListening:function(){"use strict";var t,e=this.$monitors,n=0;if(e){for(n=0;n<e.length;n++)t=e[n],t[0].off(t[1],t[2]);delete this.$monitors}return this}};t.exports={Emitter:s,enhance:function(t){"use strict";i.assign(t,s)}}},function(t,e,n){function r(t){"use strict";var e,n,r;if(t){if(o.isString(t))return t;n=[];for(e in t)t.hasOwnProperty(e)&&(r=t[e],n.push(e+":"+r));return n.join(";")}}function i(t){"use strict";return t.replace(/\\([\s\S])|(")/g,"\\$1$2")}function s(t){"use strict";for(var e,n,s,a=[t],c=[];a.length;)if(e=a.shift())if(o.isString(e))c.push(e);else if(e.type===-1)a.unshift(e.children);else if("function"==typeof e.type){var l=e.component=new e.type(e.attrs,null);l.hasChanged&&l.hasChanged(),a.unshift.apply(a,e.render())}else{var h,f=e.children,d=e.attrs,p=e.type,g=["<"+p];if(d.hasOwnProperty("show")&&!d.show)continue;for(n in d)if(d.hasOwnProperty(n)){if(s=d[n],h=typeof s,"style"===n)s=r(s);else if("class"===n)s=u.classes(s);else if("show"===n)continue;if("function"===h)continue;"boolean"===h?s&&g.push(n):s&&(o.isString(s)||(s=JSON.stringify(s)),g.push(n+'="'+i(s)+'"'))}g.push(">"),c.push(g.join(" ")),a.unshift("</"+p+">"),f&&a.unshift.apply(a,f)}return c.join("")}var o=n(1),u=n(4);t.exports={stringify:s}},function(t,e,n){function r(t,e){"use strict";for(var n,r=t.split(/([\.#]?[^\s#.]+)/),i="div",s={},o=[];r.length;)n=r.shift(),n&&("."===n.charAt(0)?(n=n.substr(1),n in s||(o.push(n),s[n]=1)):"#"===n.charAt(0)?(n=n.substr(1),e.id=n):i=n);return o.length&&("class"in e||"classes"in e?(e["class"]=a.classes(o,e["class"],e.classes),delete e.classes):e["class"]=o.join(" ")),i}function i(t){"use strict";var e,n,i,a,h,f=0,d=[];if(i=Array.prototype.slice.call(arguments,1),h=s.merge({},s.isPlainObject(i[0])?i.shift():null),h.hasOwnProperty("if")&&!h["if"])return null;for(delete h["if"];i.length;)if(a=i.shift(),s.isArray(a))i.unshift.apply(i,a);else if(null!=a){if(!(a instanceof u.DomNode||a instanceof u.ComponentNode)){if("object"==typeof a&&"function"==typeof a.render){a=a.render(),i.unshift(a);continue}a=new u.DomNode(u.TEXT_TYPE,null,""+a,f)}d.push(a),a.index=f,f+=1}if("function"!=typeof t&&(t=r(t,h),t in c&&(t=c[t])),"function"==typeof t?e=t.prototype instanceof o?new u.ComponentNode(t,h,d):t(h,d):("-"===t.charAt(0)&&(t=t.substr(1)),e=new u.DomNode(t,h,d)),h){h.hasOwnProperty("key")&&(e.key=h.key,delete h.key);for(n in l)l.hasOwnProperty(n)&&n in h&&(e=l[n](h[n],e),delete h[n])}return e}var s=n(1),o=n(2),u=n(3),a=n(4),c={},l={};i.directive=function(t,e){"use strict";return arguments.length>=2&&(l[t]=e),l[t]},i.component=function(t){"use strict";var e=Array.prototype.slice.call(arguments,1);if(0===e.length)return c[t];var n=e.pop(),r=e.length?c[e.pop()]:o;return"object"==typeof n&&(n=r.extend(n)),c[t]=n,n.prototype.$name=t,n.prototype.name=t,n},t.exports=i},function(t,e,n){var r=n(9),i=n(13),s=n(10),o=n(11),u=n(12);t.exports={define:i.define,Field:i.Field,Form:r.Form,widget:s.widget,Widget:s.Widget,layout:o.layout,clearLayouts:o.clear,clearWidgets:s.clear,ValidationError:u.ValidationError}},function(t,e,n){function r(t,e){"use strict";return{value:new h(t,e),configurable:!0}}var i=n(1),s=n(10),o=n(11),u=n(12),a=n(13),c=n(4),l=n(3),h=i.extend.call(Object,{constructor:function(t,e){"use strict";this.form=t,this.field=e,this.name=e.name,this.type=e.type,this.id="id_"+this.name,this.label=e.getLabel();var n=e.widget,r=s.widget(n.type);this.widget=new r(n),this.layout=o.layout(e.layout)||o.layout("*")},properties:{silent:{get:function(){"use strict";return!!this.form.fieldSilence[this.name]},set:function(t){"use strict";this.form.fieldSilence[this.name]=!!t}},errors:{get:function(){"use strict";return this.form.errors.get(this.name)}},data:{get:function(){"use strict";return this.widget.read(this.name,this.form.data)}},value:{get:function(){"use strict";return this.form.cleanedData[this.name]}}},isEmpty:function(){"use strict";return null==this.value},set:function(t){"use strict";var e={};return e[this.name]=t,this.form.updateData(e)},read:function(t){"use strict";var e=this.widget.read(this.name,t);return this.field.coerce(e)},toJS:function(t){"use strict";return this.field.coerce(t)},toJSON:function(){"use strict";return this.field.toJSON(this.value)},validate:function(t,e){"use strict";var n=this.field;n.validate(t,e)},transform:function(t){"use strict";return this.field.transform(t)},isValid:function(){"use strict";return 0===this.errors.length},buildAttrs:function(t){"use strict";return t},render:function(){"use strict";var t=this.data,e=this.widget,n=this.buildAttrs(i.assign({id:this.id,name:this.name,value:t},this.widget.attrs));this.field.choices&&(n.choices=this.field.choices);var r={attrs:n,widget:e,errors:this.errors,value:t,label:this.label,name:this.name,field:this,id:this.id};return this.layout(r)}}),f=i.extend.call(Object,{constructor:function(t){"use strict";t=t||{},this._errors=new u.ErrorDict,this._cleanedData={},this.changedData={$count:0},this.fieldSilence={},this.silent=!0,this.options=i.assign({},t);for(var e,n=this.constructor.fields,s=0;s<n.length;s++)e=n[s],Object.defineProperty(this,e.name,r(this,e)),this.fieldSilence[e.name]=!0;this._dirty=!0,this.setData(t.data)},properties:{cleanedData:{get:function(){"use strict";return this._dirty&&this.runClean(),this._cleanedData},enumerable:!1},errors:{get:function(){"use strict";return this._dirty&&this.runClean(),this._errors},enumerable:!1},multipart:{get:function(){"use strict";var t,e,n=this.getFields();for(t=0;t<n.length;t++)if(e=n[t],e.widget.multipart)return!0;return!1}},fields:{get:function(){"use strict";return this.getFields()}},visibleFields:{get:function(){"use strict";var t,e,n=this.getFields(),r=[];for(t=0;t<n.length;t++)e=n[t],e.widget.hidden||r.push(e);return r}},hiddenFields:{get:function(){"use strict";var t,e,n=this.getFields(),r=[];for(t=0;t<n.length;t++)e=n[t],e.widget.hidden&&r.push(e);return r}}},valuesSubmitted:function(t){"use strict";var e=c.getFormData(t);this.setData(e,!0),this._dirty=!0,this.silent=!1,this.getFields().forEach(function(t){t.silent=!1}),this._errors.clear("__all__"),this._errors.clear("non_field_errors"),this.runClean(!0);var n=this.isValid();return n||l.redraw(),n},valuesChanged:function(t){"use strict";var e,n=c.getFormData(t);this.setData(n,!0),this.silent=!1;for(e in this.changedData)this.changedData.hasOwnProperty(e)&&"$"!==e.charAt(0)&&(this[e].silent=!1);this.hasChanged()&&l.redraw()},getFields:function(){"use strict";for(var t,e=this.constructor.fields,n=[],r=0;r<e.length;r++)t=this[e[r].name],n.push(t);return n},setErrors:function(t){"use strict";this._errors.add(new u.ValidationError(t),this)},nonFieldErrors:function(){"use strict";return this.errors.get("__all__").concat(this.errors.get("non_field_errors"))},getData:function(){"use strict";return this.data},updateData:function(t){"use strict";this.setData(i.assign({},this.data,t))},setData:function(t,e){"use strict";t=t||{};for(var n,r,s,o,u=i.assign({},this.data),a={},c={},l=this.getFields(),h=0,f=0;f<l.length;f++)s=l[f],o=s.name,n=e?s.read(t):s.toJS(t[o]),a[o]=n,r=u[o],i.isEqual(r,n)||(c[o]=r,this._errors.clear(o),h++);c.$count=h,this.changedData=c,h&&(this._dirty=!0),this.data=a},hasChanged:function(t){"use strict";return arguments.length>=1?t in this.changedData:this.changedData.$count},formatErrorMessage:function(t,e,n){"use strict";return t},runClean:function(t){"use strict";var e=this._errors,n=this;e.capture(function(){n._cleanedData=n.clean(t)},this),this._dirty=!1},isValid:function(){"use strict";return 0===this.errors.length},toJSON:function(){"use strict";var t,e,n={},r=(this.cleanedData,this.getFields());for(t=0;t<r.length;t++)e=r[t],e.isEmpty()||(n[e.name]=e.toJSON());return n},clean:function(t){"use strict";var e,n,r,s,o,u=this._cleanedData||{},a=this.getFields(),c=this.data,l={},h={},f=this._errors,d=this;f.clear("__all__"),f.clear("non_field_errors"),this._cleanedData=l;for(var p=0;p<a.length;p++)e=a[p],o=u[e.name],this.hasChanged(e.name)||t?(f.clear(e.name),h[e.name]=e,l[e.name]=c[e.name]):l[e.name]=o;for(r in l)l.hasOwnProperty(r)&&r in h&&(e=h[r],n=l[r],f.capture(function(){e.validate(n,l)},this,r));var g=i.assign({},l);for(r in g)l.hasOwnProperty(r)&&r in h&&(e=h[r],n=l[r],f.capture(function(){s="clean"+r.charAt(0).toUpperCase()+r.substr(1),"function"==typeof d[s]?l[r]=d[s](n):l[r]=e.transform(n)},this,r));return l}});f.extend=function(t){"use strict";var e,n;for(e in t)t.hasOwnProperty(e)&&(n=t[e])instanceof a.Field&&(n.name=e);var r=i.extend.call(this,t);return r.fields=a.Field.collect(r.prototype),r},t.exports={Form:f}},function(t,e,n){function r(t,e){"use strict";var n;if(arguments.length>1){arguments.length>2?(n=u[e],e=arguments[2]):n=a;var r="function"==typeof e?e:n.extend(e);return Object.defineProperty(r.prototype,"type",{value:t,configurable:!1,enumerable:!1}),u[t]=r,r}return u[t]}function i(){"use strict";u={}}var s=n(1),o=n(7),u={},a=s.extend.call(Object,{options:{},hidden:!1,multipart:!1,constructor:function(t){"use strict";this.options=s.assign({},this.constructor.prototype.options,t),this.attrs=this.options.attrs||{}},read:function(t,e){"use strict";return e[t]},render:function(t){"use strict";throw new Error("Not Implemented")}}),c=a.extend({render:function(t){"use strict";var e=this.type.substr(0,this.type.length-6);return t=s.assign({type:e},t),o("-input",t)}});!function(){"use strict";for(var t,e=["hidden","radio","text","number","email","tel","password"],n=0;n<e.length;n++){t=e[n];var i={};"hidden"===t&&(i.hidden=!0),r(t+"-input",c.extend(i))}r("time-input",{render:function(t){var e=t.value;return e instanceof Date&&(t.valueAsDate=e,delete t.value),t=s.assign({type:"time"},t),o("-input",t)}}),r("date-input",{render:function(t){var e=t.value;return e instanceof Date&&(t.valueAsDate=e,delete t.value),t=s.assign({type:"date"},t),o("-input",t)}}),r("datetime-input",{read:function(t,e){var n=e[t+"_date"],r=e[t+"_time"];return n&&r?(n.setHours(r.getHours()),n.setMinutes(r.getMinutes()),n.setSeconds(r.getSeconds()),n.setMilliseconds(r.getMilliseconds()),n):""},render:function(t){var e=t.value,n=t.name;return e instanceof Date&&(t.valueAsDate=e,e.setSeconds(0),e.setMilliseconds(0),delete t.value),t=s.assign({type:"datetime-local"},t),o("div",{style:"display: table; width: 100%"},[o("label",{style:"display: table-cell; width: 50%"},o("-input",s.assign({placeholder:"dd/mm/yyyy"},t,{id:t.id+"_date",type:"date",name:n+"_date"}))),o("label",{style:"display: table-cell; width: 50%"},o("-input",s.assign({placeholder:"hh:mm"},t,{id:t.id+"_time",type:"time",step:60,name:n+"_time"})))])}}),r("text-area",{render:function(t){return o("-textarea",t)}}),r("checkbox-input",{render:function(t){return t.type="checkbox",t.checked=!!t.value,t.value="true",o("-input",t)}}),r("select",{render:function(t){var e=t.choices,n=t.value;return o("-select",t,e.map(function(t){var e=null!=n&&String(n)===String(t.value);return o("option",{value:t.value,selected:e},t.label)}))}})}(),t.exports={widget:r,Widget:a,clear:i}},function(t,e,n){function r(t,e){"use strict";return 1===arguments.length?s[t]:(s[t]=e,e)}function i(){"use strict";s={}}var s=(n(1),{});t.exports={clear:i,layout:r}},function(t,e,n){function r(t,e,n){"use strict";var s,o,u=t,a=[];if(1!==arguments.length||i.isString(t))this.data=t,
this.code=e,this.name=n;else{for(s in u)if(u.hasOwnProperty(s))if(o=u[s],i.isArray(o))o.forEach(function(t){a.push(new r(t,null,s))});else{if(!i.isString(o))throw new Error("ValidationError accepts a string or a map<string,string>");a.push(new r(o,null,s))}this.data=a}}var i=n(1),s=i.extend.call(Object,{constructor:function(){"use strict";this.data={},this._length=0},all:function(){"use strict";return i.assign({},this.data)},get:function(t){"use strict";return this.data[t]||[]},capture:function(t,e,n){"use strict";var i=this;try{t()}catch(s){if(!(s instanceof r))throw s;s.name=n,i.add(s,e)}},clear:function(){"use strict";if(0===arguments.length)this.data={},this._length=0;else for(var t,e,n=this.data,r=0;r<arguments.length;r++)e=arguments[r],t=n[e],t&&(this._length-=t.length,delete n[e])},_insert:function(t,e,n){"use strict";var r=this.data;e=e||"__all__",e in r||(r[e]=[]);var i=n?n.formatErrorMessage(t.data,t.name,t.code):t.data;r[e].push(i),this._length++},add:function(t,e){"use strict";for(var n,r=[t];r.length;)n=r.pop(),i.isArray(n)?r.push.apply(r,n):i.isString(n.data)?this._insert(n,n.name,e):r.push.apply(r,n.data)},properties:{length:{get:function(){"use strict";return this._length},enumerable:!1}}});t.exports={ValidationError:r,ErrorDict:s}},function(t,e,n){function r(t){"use strict";t=t||{};var e=t.type||"string",n=u[e];if(!n)throw new Error("Unknown field type: "+t.type);return delete t.type,new n(t)}function i(t,e){"use strict";var n=c.extend(e);return u[t]=n,n.prototype.type=t,n}var s=n(1),o=n(12),u={},a={string:"text-input","boolean":"checkbox-input",number:"number-input"};r.collect=function(t){"use strict";var e,n,r=[];for(e in t)n=t[e],n instanceof c&&r.push(n);return r},r.mapWidget=function(t,e){"use strict";a[t]=e};var c=s.extend.call(r,{constructor:function l(t){"use strict";this["super"].constructor!==l&&this["super"].constructor.call(this,arguments),s.assign(this,{required:!0,"default":null},t);var e=this.type;if(this.layout=this.layout||this.getLayout()||"vertical",!this.widget){var n=a[e]||this.getWidget()||a["*"];this.widget="function"==typeof n?n(this):String(n)}s.isString(this.widget)&&(this.widget={type:this.widget});var r=this.choices;if(s.isPlainObject(r)){var i=[];for(var o in r)r.hasOwnProperty(o)&&i.push({value:this.toJS(o),label:r[o]});this.choices=i}},validateChoice:function(t){"use strict";var e,n=this.choices;for(e=0;e<n.length;e++)if(n[e].value==t)return;if(e)throw new o.ValidationError("Invalid choice","choice",this.name)},validateMultipleChoice:function(t){"use strict";var e;for(e=0;e<t.length;e++)this.validateChoice(t[e])},isEmpty:function(t){"use strict";return""==t||null==t||0===t.length},isEqual:function(t,e){"use strict";return t===e},toJSON:function(t){"use strict";return t},toJS:function(t){"use strict";return t},coerce:function(t){"use strict";var e=this["default"];return this.isEmpty(t)||(e=this.toJS(t)),e},transform:function(t){"use strict";return t},validate:function(t,e){"use strict";var n,r=this.validators||[];if(this.isEmpty(t)){if(this.required)throw new o.ValidationError("This field is required","required")}else for(this.choices&&(s.isArray(t)?this.validateMultipleChoice(t,e):this.validateChoice(t,e)),n=0;n<r.length;n++)r[n](t,e)},getLabel:function(){"use strict";return this.hasOwnProperty("label")?this.label:this.name.charAt(0).toUpperCase()+this.name.substr(1)},getWidget:function(){"use strict";return""},getLayout:function(){"use strict";return""}});i("integer",{toJS:function(t){"use strict";return parseInt(t)},getWidget:function(){"use strict";return this.choices?"select":"number-input"}}),i("boolean",{toJS:function(t){"use strict";return!!t},getWidget:function(){"use strict";return this.choices?"select-radio":"checkbox"}}),i("float",{toJS:function(t){"use strict";return parseFloat(t)},getWidget:function(){"use strict";return this.choices?"select":"number-input"}}),i("string",{toJS:function(t){"use strict";return t},getWidget:function(){"use strict";return this.choices?"select":"text-input"}}),i("text",{toJS:function(t){"use strict";return t},getWidget:function(){"use strict";return"text-area"}}),i("date",{toJS:function(t){"use strict";return t instanceof Date?t:new Date(t)},toJSON:function(t){"use strict";return t?""+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate():t},getWidget:function(){"use strict";return"date-input"}}),i("datetime",{toJS:function(t){"use strict";return t instanceof Date?t:new Date(t)},toJSON:function(t){"use strict";return t?t.toISOString():t},getWidget:function(){"use strict";return"datetime-input"}}),i("list",{toJS:function(t){"use strict";return s.isArray(t)?t:t.map(this.base.clean)}}),t.exports={define:i,Field:r}}])});