!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(1)},function(t,e,n){function r(t,e,n){"use strict";var r,s,i,c,a,h=2;if(o.isObject(e)||(n=e,e=null,h=1),o.isString(n)&&(n=Array.prototype.slice.call(arguments,h)),n)for(c=n.length,i=0;c>i;i++)a=n[i],o.isString(a)?(a=new u.DomNode(u.TEXT_TYPE,null,a,i),n[i]=a):a.index=i;s=t,s in p&&(t=p[s]);var l="function"==typeof t?u.ComponentNode:u.DomNode;return r=new l(t,e,n||[],0),e&&e.hasOwnProperty("key")&&(r.key=e.key,delete e.key),r}function s(t,e,n){"use strict";var r=u.patch(t);return n===!0?e.parentNode.replaceChild(e,r):n?e.insertBefore(r,n):e.appendChild(r),t}function i(t){"use strict";u.patch(null,t)}var o=n(2),c=n(3),u=n(5),a=n(6),h=n(4),l=n(8),p={};r.component=function(t,e){"use strict";return void 0===e?p[t]:("object"==typeof e&&(e=c.extend(e)),p[t]=e,e)},r.mount=s,r.unmount=i,r.redraw=h.redraw,r.nextTick=h.nextTick,r.router=a.router,r.navigate=a.navigate,r.resolve=a.resolve,r.reverse=a.reverse,r.dom=l,r.utils=o,r.Component=c,r.dom.hook=u.hook,t.exports=r},function(t,e){function n(t){"use strict";return"[object String]"===Object.prototype.toString.call(t)}function r(t){"use strict";return!!(t&&t.constructor&&t.call&&t.apply)}function s(t){"use strict";return"[object Array]"===Object.prototype.toString.call(t)}function i(t){"use strict";return"[object Object]"===Object.prototype.toString.call(t)}function o(t,e){"use strict";var n,r=t.length;for(n=0;r>n;n++)if(t[n]===e)return t.splice(n,1),n;return-1}function c(t){"use strict";if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=t,n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])}return e}function u(t,e){"use strict";for(var n,r,s,i,o,c={},u=[{src:t,dst:e,reverse:!1},{src:e,dst:t}],a=0;u.length;)if(n=u.pop(),n.src!==n.dst)if("object"==typeof n.src&&"object"==typeof n.dst){for(s in n.src)if(n.src.hasOwnProperty(s)){if(r=n.key||s,r in c)continue;i=n.src[s],o=n.dst[s],u.push({key:r,src:i,dst:o})}}else if(!(n.key&&n.key in c)){if(a+=1,!n.key){c=e;break}c[n.key]=e[n.key]}return a?{total:a,changes:c}:!1}var a=function(t){"use strict";var e,n,r=this,s=r.prototype,i=function(){r.apply(this,arguments),this.initialize&&this.initialize.apply(this,arguments)};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,n=i.prototype,n.$super=s;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return i.extend=a,i};t.exports={isArray:s,isString:n,isFunction:r,isObject:i,extend:a,remove:o,merge:c,diffAttr:u}},function(t,e,n){function r(t,e){"use strict";this.state={},this.inclusion=null,this.$dirty=!0,t&&this.set(t),e&&this.adopt(e),this.$dirty=!1}var s=n(2),i=n(4);r.prototype.render=function(){"use strict";throw new Error("Not implemented")},r.prototype.set=function(t){"use strict";var e,n,r,s=this.state,o=this.$dirty;if(t)for(e in t)t.hasOwnProperty(e)&&(n=t[e],r=s[e],n!==r&&(this.$dirty=!0,this.state[e]=n));this.$dirty&&!o&&i.redraw()},r.prototype.adopt=function(t){"use strict";var e=this.$dirty;this.inclusion&&s.diff(this.inclusion,t)&&(this.inclusion=t,this.$dirty=!0),this.$dirty&&!e&&i.redraw()},r.prototype.hasChanged=function(){"use strict";return this.$dirty},r.extend=s.extend,t.exports=r},function(t,e,n){function r(){"use strict";this.items=[],this.next=this.next.bind(this),this._running=!1}function s(){"use strict";o.update(),c=!1}function i(){"use strict";c||(c=!0,u(s))}var o=n(5),c=!1,u=window.requestAnimationFrame||window.setTimeout;r.prototype={constructor:r,push:function(t){"use strict";return this.items.push(t),this._running||(this._running=!0,this.next()),this},next:function(){"use strict";var t=this;t.items.length&&u(function(){var e=t.items.shift();e(t.next)})},delay:function(t){"use strict";return this.push(function(e){setTimeout(function(){e()},t)})}},t.exports={redraw:i,nextTick:function(t){"use strict";u(t)}}},function(t,e,n){function r(t,e,n,r){"use strict";var s;if(t&&(s=(t=N.isString(t)?{name:t}:t).name)in j){var i=j[s];if(i[e]){try{i[e](t,n)}catch(o){r()}return}}r()}function s(t,e){"use strict";return"svg"===t?"http://www.w3.org/2000/svg":e?e.namespaceURI:null}function i(t,e,n){"use strict";var r,i=s(t,n);return r=i?document.createElementNS(i,t):document.createElement(t),e&&u(r,e),r}function o(t,e){"use strict";var n,r;if("string"==typeof e)t.style.cssText=e;else{t.style.cssText="",r=t.style;for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}}function c(t,e){"use strict";var n=e?"show":"hide";r(t.hook,n,t,function(){t.style.display=e?"":"none"})}function u(t,e){"use strict";var n,r,s,i={hook:1};for(n in e)e.hasOwnProperty(n)&&(r=e[n],"value"===n&&"TEXTAREA"===t.tagName?t.value=r:"show"===n?c(t,r):null===r||void 0===r?t.removeAttribute(n):(s=typeof r,"style"===n?o(t,r):n in i||"function"===s||"object"===s?t[n]=r:("boolean"===s&&(t[n]=r),t.setAttribute(n,r))))}function a(t,e,n,s){"use strict";"number"==typeof n&&n%1===0&&(n=t.childNodes[n]),n?s?r(t.hook,"enter",e,function(){t.replaceChild(e,n)}):r(t.hook,"enter",e,function(){t.insertBefore(e,n)}):r(t.hook,"enter",e,function(){t.appendChild(e)})}function h(t){"use strict";var e=t.parentNode;r(e.hook,"leave",t,function(){e.removeChild(t)})}function l(t,e){"use strict";var n=t.parentNode;r(n.hook,"enter",t,function(){var r=n.childNodes[e];r!==t&&n.insertBefore(t,r)})}function p(t,e,n,r){"use strict";this.type=t,this.attrs=e,this.children=n,this.el=null,this.index=arguments.length<4?-1:r,this.owner=null}function f(t,e,n,r){"use strict";this.type=t,this.attrs=e,this.children=[],this.owner=null,this.el=null,this.component=null,this.index=arguments.length<4?-1:r}function d(t,e){"use strict";var n,r,s,i,o,c,u,a={src:e,dst:t,owner:e&&e.owner||b.component,parent:e?e.el.parentNode:document.createDocumentFragment()},h=[a],l=[],p=[];if(t===e)return a.parent;for(;h.length;)n=h.pop(),r=n.src,s=n.dst,i=n.parent,o=n.owner,s?r?r.type!==s.type?s.replace(h,r,o):s.patch(h,r):(s.create(h,i,o),s.component&&l.push(s.component)):(r.component&&(p.push(r.component),r.component.onUnmount&&r.component.onUnmount()),r.destroy(h,n.action===E));for(c=l.length-1;c>=0;c--)u=l[c],u.onMount&&u.onMount();for(c=p.length-1;c>=0;c--)u=p[c],u.onDelete&&u.onDelete();return a.parent}function m(t){"use strict";var e,n,r=t.length,s={};for(e=0;r>e;e++)n=t[e],n.hasOwnProperty("key")&&(s[n.key]=n);return s}function v(t,e,n,r,s,i){"use strict";var o,c,u=r.length;for(o=u-1;o>=0;o--)c={owner:n,parent:e,action:i},c[s]=r[o],t.push(c)}function g(t,e,n,r,s){"use strict";var i,o,c,u,a,h={},l=[];for(o=s.length,i=0;o>i;i++)u=s[i],u.hasOwnProperty("key")?(a||(a=m(r)),c=a[u.key]):c=r[i],c&&(h[c.index]=!0),l.push({owner:n,src:c,dst:u,parent:e});for(o=r.length,i=0;o>i;i++)c=r[i],i in h||l.push({owner:n,src:c,dst:null,parent:e});l.reverse(),t.push.apply(t,l)}function y(){"use strict";b.update()}function w(t,e){"use strict";j[t]=e}function x(t){"use strict";return j[t]}function $(t,e){"use strict";return arguments.length<2?x(t):(w(t,e),x(t))}var b,N=n(2),k=-1,E=1,j={};p.prototype={constructor:p,create:function(t,e,n){"use strict";var r,s,o=this.tenant;o&&(r=o.el,s=!0);var c,u=this.type===k;c=u?document.createTextNode(this.children):i(this.type,this.attrs,e),a(e,c,r,s),this.el=c,this.owner=n,delete this.tenant,o&&this.index!==o.index&&this.reorder(o),n&&n.$tree===this&&(n.el=this.el,n.$tag.el=this.el),n.$updated=!0,u||v(t,this.el,this.owner,this.children,"dst")},replace:function(t,e,n){"use strict";var r=e.component?e.component.el:e.el,s=r.parentNode;this.tenant=e,v(t,s,n,[e],"src",E),this.create(t,s,n)},destroy:function(t,e){"use strict";var n=this.type===k,r=(this.owner,this.el);n||v(t,this.el,this.owner,this.children,"src",E),e||h(r),this.owner.$updated=!0,this.el=null,this.owner=null},patch:function(t,e){"use strict";var n=e.el,r=this.type===k,s=e.owner;if(r)e.children!==this.children&&(n.nodeValue=this.children,s.$updated=!0);else{var i,o=N.diffAttr(e.attrs,this.attrs);o&&(i=o.changes,u(n,i),s.$updated=!0)}this.el=n,this.owner=s,this.index!==e.index&&this.reorder(e),e.el=null,r||g(t,this.el,e.owner,e.children,this.children)},reorder:function(t){"use strict";var e=this.index;t.index<e&&e++,l(this.el,e)}},f.prototype={constructor:f,own:function(t){"use strict";var e=this.component,n=e.$children=e.$children||[];t.$owner&&t.$owner.disown(t),t.$owner=e,n.push(t)},disown:function(t){"use strict";var e,n=this.component.$children,r=n.length;for(t.$owner=null,e=0;r>e;e++)n[e]===t&&n.splice(e,1)},render:function(){"use strict";var t=this.component.render();return t?(t.index=this.index,this.children=[t]):this.children=[],this.component.$tree=t,t},create:function(t,e,n){"use strict";var r=this.component=new this.type(this.attrs);r.$tag=this,this.render(),this.owner=n,this.el=e,n.$tag.own(r),v(t,e,this.component,this.children,"dst")},replace:function(t,e,n){"use strict";var r,s=e.el.parentNode;v(t,s,n,[e],"src",E),this.create(t,s,n),r=this.children[0],r.tenant=e},destroy:function(t,e){"use strict";var n=e?E:null;v(t,this.el,this.component,this.children,"src",n),this.owner.$tag.disown(this.component),this.component.$tag=null,this.component=null,this.el=null,this.children=[],this.owner=null},patch:function(t,e){"use strict";this.component=e.component,this.component.$tag=this,this.el=e.el,this.children=e.children,this.owner=e.owner,this.component.set(this.attrs),e.component=null,e.owner=null},update:function(){"use strict";for(var t,e,n,r=[this.component];r.length;)e=r.pop(),e.hasChanged&&e.hasChanged()&&(n=e.$tree,t=e.$tag.render(),d(t,n),e.$updated&&e.onUpdate&&e.onUpdate()),delete e.$updated,e.$dirty=!1,r.push.apply(r,e.$children)}},b=new f,b.component={$tag:b},t.exports={DomNode:p,ComponentNode:f,TEXT_TYPE:k,patch:d,update:y,hook:$}},function(t,e,n){function r(){"use strict";var t=window.location.pathname;"/"===t.charAt(0)&&(t=t.substr(1));var e=p(t);e&&e.func(e.args)}function s(){"use strict";w||(!function(){if(window.addEventListener){var t="complete"!==document.readyState;window.addEventListener("load",function(){setTimeout(function(){t=!1},0)},!1),window.addEventListener("popstate",function(e){t&&"complete"===document.readyState&&(e.preventDefault(),e.stopImmediatePropagation())},!1)}}(),setTimeout(r)),w=!0,window.addEventListener("popstate",r)}function i(){"use strict";window.removeEventListener("popstate",r)}function o(t,e){"use strict";e=e||{};var n=window.history,s=e&&e.replace?"replaceState":"pushState";n[s](null,e.title||"",t),e.silent||r()}function c(t){"use strict";var e=t.pop(),n=t.pop()||"",r=t.pop()||"";this.parser=d.parse(n,"function"==typeof e),this.name=r,this.fullName=r,this.segments=[this.parser];var s,i=this.children=[];if(m.isArray(e)){var o,u,a=e.length;for(u=0;a>u;u++)o=e[u],s=o instanceof c?o:new c(o),i.push(s)}else this.func=e}function u(t){"use strict";for(var e,n,r,i,o,c,u,a=[{route:t,fullNames:[],segments:[]}];a.length;)for(e=a.pop(),c=e.route,c.initialize(e.fullNames,e.segments),i=c.children,r=i.length,n=0;r>n;n++)o=i[n],u=c.name,a.push({route:o,fullNames:e.fullNames.concat(u.length?[u]:[]),segments:e.segments.concat([c.parser])});v.push(t),v.length&&!y&&(s(),y=!0)}function a(t){"use strict";for(var e,n=(v.length,[t]);n.length;)e=n.pop(),e.func?e.destroy():n.push.apply(n,e.children);m.remove(v,t),!v.length&&y&&(i(),y=!1)}function h(t,e){"use strict";var n=g[t];return n?n.reverse(e):void 0}function l(t){"use strict";var e=g[t];return e?e.func:p(t).func}function p(t){"use strict";for(var e,n,r=v.slice(0);r.length;)if(e=r.pop(),n=e.match(t)){if(e.func)return{func:e.func,args:n};r.push.apply(r,e.children)}return!1}function f(t){"use strict";this.routes=new c(t)}var d=n(7),m=n(2),v=[],g={},y=!1,w=!1;c.prototype.match=function(t,e,n){"use strict";e=e||0,n=n||0;var r,s,i,o=this.segments.slice(n),c=o.length,u={};for(t=t.substr(e),r=0;c>r;r++){if(s=o[r],!(i=s(t)))return!1;t=t.substr(i.$lastIndex),m.assign(u,i)}return delete u.$lastIndex,u},c.prototype.reverse=function(t){"use strict";var e,n,r,s=this.segments,i=s.length,o=[];for(e=0;i>e;e++){if(n=s[e],(r=n.reverse(t))===!1)return!1;o.push(r)}return o.join("")},c.prototype.destroy=function(){"use strict";if(this.func){var t=g[this.fullName];t===this&&delete g[this.fullName]}},c.prototype.initialize=function(t,e){"use strict";this.fullName=t.length?t.join(":")+":"+this.name:this.name,this.segments=e.concat([this.parser]),this.func&&(g[this.fullName]=this)},f.prototype.start=function(){"use strict";u(this.routes)},f.prototype.stop=function(){"use strict";a(this.routes)},t.exports={resolve:l,reverse:h,router:function(t,e,n){"use strict";return new f(Array.prototype.slice.call(arguments))},navigate:o}},function(t,e){function n(t,e){"use strict";a[t]=e}function r(t){"use strict";var e,n;for(e in a)if(a.hasOwnProperty(e)&&(n=a[e])&&n.match(t))return{pattern:n.pattern(t),coerce:n.coerce};return{pattern:t}}function s(t,e,n,s,i){"use strict";var o,c=t.length,a="";n=n||[],s=s||[],i=i||[],"/"===t.charAt(c-1)&&(a="/",t=t.substring(0,c-1));var h,l,p,f,d,m,v,g,y,w,x=t.split("/"),$=x.length,b=[],N=0,k=e?"$":"";for(h=0;$>h;h++)l=x[h],o=h===$-1?"":"/",p=u.exec(l),p?(f=p[1],m=!!p[2]||"*"===p[3],w=r(p[3]),d=w.pattern,v=parseInt(p[4]),g=parseInt(p[5]),y=isNaN(v)&&isNaN(g)?"":"{"+g||","+v||"}",d="("+d+")"+y,i.push({name:f,index:N,regex:new RegExp(d),optional:m}),d+=o,m&&(d="(?:"+d+")?"),b.push(d),n.push(f),s.push(w.coerce),N+=1):(b.push(l+o),i.push(l));return a&&i.push(""),new RegExp("^"+b.join("")+a+k)}function i(t,e,n,r){"use strict";var s,i,o,c,u=t.exec(r),a={},h=e.length,l=0;if(u){for(i=u.length,s=0;i>s;s++)o=u[s+1],void 0!==o&&(++l,h>s&&(c=n[s],"function"==typeof c&&(o=c(o)),a[e[s]]=o),a[s]=o);return a.$lastIndex=u[0].length,a}return!1}function o(t,e){"use strict";var n,r,s,i,o=t.length,c=[];for(e=e||{},n=0;o>n;n++)if(r=t[n],"object"==typeof r)if(i=void 0,e.hasOwnProperty(r.name)?i=e[r.name]:e.hasOwnProperty(r.index)&&(i=e[r.index]),void 0===i){if(!r.optional)return!1}else{if(s=String(i),!r.regex.test(s))return!1;c.push(s)}else c.push(r);return c.join("/")}function c(t,e){"use strict";var n=[],r=[],c=[],u=s(t,e,r,c,n),a=function(t){return i(u,r,c,t)},h=function(t){return o(n,t)};return a.regex=u,a.reverse=h,a}var u=/^(\w*)(\?)?:(.+?)(?:\s*\{\s*(\d*)\s*(?:,\s*(\d*))?\s*\})?$/,a={alpha:{match:function(t){"use strict";return"alpha"===t},pattern:function(t){"use strict";return"[a-zA-Z]+"}},alnum:{match:function(t){"use strict";return"alnum"===t},pattern:function(t){"use strict";return"\\w+"}},"int":{match:function(t){"use strict";return t in{num:1,"int":1}},pattern:function(t){"use strict";return"\\d+"},coerce:function(t){"use strict";return parseInt(t)}},any:{match:function(t){"use strict";return"any"===t},pattern:function(t){"use strict";return"[^/]*"}},greedyAny:{match:function(t){"use strict";return"*"===t},pattern:function(t){"use strict";return".*"}},choice:{match:function(t){"use strict";return"("===t.charAt(0)&&")"===t.charAt(t.length-1)},pattern:function(t){"use strict";var e=t.substring(1,t.length-1).split(",");return e.join("|")}},name:{match:function(t){"use strict";return"name"===t},pattern:function(){"use strict";return"[a-zA-Z]\\w+"}}};t.exports={parse:c,register:n}},function(t,e,n){function r(t,e){"use strict";return t[e]}function s(t,e){"use strict";return t.getAttribute(t)}function i(t){"use strict";var e,n,r=t.attributes,s=0;if(r)for(e=r.length,s=0;e>s;s+=1)n=r[s].name,"function"==typeof t[n]&&(t[n]=null)}function o(t){"use strict";var e;t.childNodes;for(e=t.lastChild;e;)t.removeChild(e),e=t.lastChild}function c(t){"use strict";var e=t.parentNode;e&&e.removeChild(t)}function u(t){"use strict";return t=t||window.event,t.stopPropagation||(t.stopPropagation=function(){this.cancelBubble=!0}),t.preventDefault||(t.preventDefault=function(){this.returnValue=!1}),t.target=t.target||t.srcElement,t.relatedTarget=t.relatedTarget||t.toElement||t.fromElement,t.charCode=t.charCode||t.keyCode,t.character=String.fromCharCode(t.charCode),t}function a(t,e){"use strict";return attachEvent("on"+t,e)}function h(t,e){return detachEvent("on"+t,e)}function l(t,e){"use strict";var n=window&&window.addEventListener||a,r=function(t){t=u(t),e.call(t.target,t)};r.__func__=e,n(t,r)}function p(t,e){"use strict";var n=window&&window.removeEventListener||h;n(t,e.__func__||e)}function f(t,e){"use strict";t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t,e){"use strict";t.classList?t.classList.add(e):t.className+=" "+e}function m(t,e){"use strict";if(t.classList)t.classList.toggle(e);else{var n=t.className.split(" "),r=n.indexOf(e);r>=0?n.splice(r,1):n.push(e),t.className=n.join(" ")}}n(2);t.exports={normalizeEvent:u,removeEventListeners:i,remove:c,empty:o,getProperty:r,getAttribute:s,addEventListener:l,removeEventListener:p,addClass:d,removeClass:f,toggleClass:m}}])});